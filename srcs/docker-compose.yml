version : "3.9"

networks :
  inceptionet :
    name: inceptionet
    driver : bridge

volumes:
  DB:
    name: DB
  WordPress:
    name: WordPress

services :
  nginx :
    build : ./requirements/nginx
    image: nginx
    container_name : nginx
    restart : always
    depends_on :
      - wordpress
    ports :
      - 443:443
    networks :
      - inceptionet
    volumes :
      - WordPress:/var/www
    env_file:
      - .env

  wordpress :
    build : ./requirements/wordpress
    image: wordpress
    container_name : wordpress
    restart : always
    depends_on :
      - mariadb
    ports:
      - 9000:9000
    networks:
      - inceptionet
    volumes:
      - WordPress:/var/www
    env_file:
      - .env

  mariadb :
    build : ./requirements/mariadb
    image: mariadb
    container_name: mariadb
    restart: always
    ports:
      - 3306:3306
    networks:
      - inceptionet
    volumes:
      - DB:/mymy
    env_file:
      - .env
